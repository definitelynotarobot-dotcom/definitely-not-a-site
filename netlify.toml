[build]

# Step 1: Run npm ci to install all Node dependencies (including the 'sass' executable).
# Step 2: Set SCSS_EXECUTABLE to the exact path of the Node-installed 'sass' binary 
#         (relative to the project root) to eliminate the "connection is shut down" error.
command = "npm ci && SCSS_EXECUTABLE=./node_modules/.bin/sass npx hugo --gc --minify"

# Hugo output directory
publish = "public"

[build.environment]
# Retain NODE_VERSION 18 for compatibility, as Node 18 is stable and modern.
NODE_VERSION = "18"