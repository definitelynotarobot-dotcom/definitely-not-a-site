[build]

# The command is clean, relying on the HUGO_BASEURL environment variable set below.
command = "npm ci && SCSS_EXECUTABLE=./node_modules/.bin/sass-embedded hugo --gc --minify"

# Hugo output directory
publish = "public"

[build.environment]
# CRITICAL FIX: Netlify's $URL variable is injected as HUGO_BASEURL, 
# forcing all asset links to use your custom domain (e.g., https://yourdomain.com).
HUGO_BASEURL = "$URL"

# Confirmed stable versions
HUGO_VERSION = "0.121.1"
NODE_VERSION = "20"